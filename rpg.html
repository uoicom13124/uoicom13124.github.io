<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Simple RPG</title>
<style>
  body {
    background:#111;
    display:flex;
    justify-content:center;
    margin-top:20px;
  }

  #game {
    display:grid;
    grid-template-columns: repeat(10, 32px);
    grid-template-rows: repeat(10, 32px);
    gap:1px;
  }

  .tile {
    width:32px;
    height:32px;
  }

  .grass { background:#3cb371; }
  .wall  { background:#555; }
  .water { background:#1e90ff; }

  .player {
    background:red;
  }
</style>
</head>
<body>

<div id="game"></div>

<script>
const mapData = [
  [1,1,1,1,1,1,1,1,1,1],
  [1,2,2,2,1,1,3,3,3,1],
  [1,1,1,2,1,1,1,1,3,1],
  [1,3,1,2,1,2,2,1,3,1],
  [1,3,1,1,1,1,2,1,1,1],
  [1,3,3,3,1,1,1,1,2,1],
  [1,1,1,3,1,2,2,1,2,1],
  [1,2,1,1,1,1,1,1,1,1],
  [1,2,2,2,2,2,1,3,3,1],
  [1,1,1,1,1,1,1,1,1,1]
];

const game = document.getElementById("game");
let player = { x: 0, y: 0 };

function drawMap() {
  game.innerHTML = "";
  for (let y = 0; y < mapData.length; y++) {
    for (let x = 0; x < mapData[y].length; x++) {
      const tile = document.createElement("div");
      tile.classList.add("tile");

      if (mapData[y][x] === 1) tile.classList.add("grass");
      if (mapData[y][x] === 2) tile.classList.add("wall");
      if (mapData[y][x] === 3) tile.classList.add("water");

      if (player.x === x && player.y === y) {
        tile.classList.add("player");
      }

      game.appendChild(tile);
    }
  }
}

function canWalk(x, y) {
  if (x < 0 || y < 0 || y >= mapData.length || x >= mapData[0].length) return false;
  return mapData[y][x] === 1;
}

document.addEventListener("keydown", e => {
  let nx = player.x;
  let ny = player.y;

  if (e.key === "w") ny--;
  if (e.key === "s") ny++;
  if (e.key === "a") nx--;
  if (e.key === "d") nx++;

  if (canWalk(nx, ny)) {
    player.x = nx;
    player.y = ny;
    drawMap();
  }
});

drawMap();
</script>

</body>
</html>
